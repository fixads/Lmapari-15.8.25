---
const { t } = Astro.props;
const currentYear = new Date().getFullYear();

const hours = [
  { day: 'Mo-Do', hours: '9:00 – 18:00' },
  { day: 'Fr', hours: '9:00 – 16:00*' },
  { day: 'Sa-So', hours: 'Geschlossen' }
];

const hoursEn = [
  { day: 'Mon-Thu', hours: '9:00 AM – 6:00 PM' },
  { day: 'Fri', hours: '9:00 AM – 4:00 PM*' },
  { day: 'Sat-Sun', hours: 'Closed' }
];

const currentHours = Astro.props.t.nav.home === 'Home' ? hoursEn : hours;
const currentLang = Astro.props.t.nav.home === 'Home' ? '' : 'de/';
---
<footer class="bg-gray-900 text-white py-8 sm:py-12">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 sm:gap-6">
      <!-- Company Info -->
      <div class="text-center md:text-left">
        <div class="flex justify-center md:justify-start mb-3">
          <img src="/logo.png" alt="Lampari Logo" class="h-8 sm:h-10 w-auto object-contain" />
        </div>
        <p class="text-xs sm:text-sm text-gray-400">
          © {currentYear} Lampari Vertriebs GmbH.<br/>
          {t.footer.rights}
        </p>
        <div class="mt-2 space-y-1">
          <a 
            href={`/${currentLang}impressum`} 
            class="text-xs sm:text-sm text-gray-400 hover:text-primary transition-colors block"
          >
            Impressum
          </a>
          <a 
            href={`/${currentLang}datenschutz`} 
            class="text-xs sm:text-sm text-gray-400 hover:text-primary transition-colors block"
          >
            {currentLang ? 'Datenschutz' : 'Privacy Policy'}
          </a>
        </div>
      </div>

      <!-- Contact Information -->
      <div class="text-center md:text-left">
        <h3 class="text-sm sm:text-base font-semibold mb-3 text-primary">{t.footer.contact}</h3>
        <div class="space-y-2">
          <p class="flex items-center justify-center md:justify-start text-xs sm:text-sm">
            <i class="fas fa-map-marker-alt w-5 text-primary"></i>
            <span>Damaschkestraße 31, 10711 Berlin</span>
          </p>
          <p class="flex items-center justify-center md:justify-start text-xs sm:text-sm">
            <i class="fas fa-phone w-5 text-primary"></i>
            <a href="tel:030-33930220" class="hover:text-primary transition-colors">030 33930220</a>
          </p>
        </div>
      </div>

      <!-- Business Hours -->
      <div class="text-center md:text-left">
        <h3 class="text-sm sm:text-base font-semibold mb-3 text-primary">{t.footer.hours}</h3>
        <div class="inline-grid grid-cols-1 gap-1 text-xs sm:text-sm">
          {currentHours.map(({ day, hours }) => (
            <div class="flex justify-between space-x-4">
              <span class="font-medium w-20">{day}</span>
              <span class="text-gray-400">{hours}</span>
            </div>
          ))}
          <div class="mt-3 p-2 bg-primary/10 rounded-lg border-l-2 border-primary">
            <p class="text-xs sm:text-sm text-primary font-medium">
              {currentLang ? '⚠️ Winter: Freitag bis 15:00' : '⚠️ Winter hours: Friday until 3:00 PM'}
            </p>
          </div>
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

<style>
  .text-primary {
    color: #C5A572;
  }
</style>